<div class="modal">
  <div class="modal-header">
    <h2>{{#if data}}编辑该行{{else}}增加新的行{{/if}}</h2>
  </div>
  <form class="form form-aligned set-new-tr-form" id="set-new-tr-form" data-data="{{json data}}" data-type="{{type}}">
    <div class="{{#equals type 'achievement'}}achievement-modal {{else}}{{/equals}}modal-dialog">
      {{#equals type 'output'}}
        <div class="control-group">
          <label><span class="required">*</span>年度:</label>
          <input type="number" class="input-medium" name="annual" placeholder="请输入年度" value="{{data.annual}}" pattern="^[1-9]*[1-9][0-9]*$" required>
          <span class="note-error"><i>&times;</i> 请输入正确的年份</span>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>年度实际产值:</label>
          <input type="number" class="input-medium" name="realOutputValue" placeholder="请输入年产值" value="{{data.realOutputValue}}" required>
          <span> 单位：万元</span>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>年度签约金额:</label>
          <input type="number" class="input-medium" name="agreementValue" placeholder="请输入年合作金额" value="{{data.agreementValue}}" required>
          <span>单位：万元</span>
        </div>
      {{/equals}}
      {{#equals type 'partner'}}
        <div class="control-group">
          <label><span class="required">*</span>开发商名称:</label>
          <input type="text" class="input-medium" name="name" placeholder="请输入开发商名称" value="{{data.name}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>所在区域:</label>
          <select name="provinceId" class="select address-select modal-address-select" data-level="1">
            <option value="{{data.provinceId}}" data-value="0" selected>请选择</option>
          </select>
          <select name="cityId" class="select address-select modal-address-select" data-level="2">
            <option value="{{data.cityId}}">请选择</option>
          </select>
          <select name="regionId" class="select address-select modal-address-select" data-level="3">
            <option value="{{data.regionId}}">请选择</option>
          </select>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>合作内容:</label>
          <input type="text" class="input-medium" name="context" placeholder="请输入合作内容" value="{{data.context}}" required>
        </div>
      {{/equals}}
      {{#equals type 'achievement'}}
        <div class="control-group">
          <label><span class="required">*</span>项目名称:</label>
          <input type="text" class="input-medium" name="projectName" placeholder="请输入项目名称" value="{{data.projectName}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>项目地址:</label>
          <input type="text" class="input-medium" name="projectAddress" placeholder="请输入项目地址" value="{{data.projectAddress}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>甲方单位:</label>
          <input type="text" class="input-medium" name="partyUnit" placeholder="请输入甲方单位" value="{{data.partyUnit}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>业态类型:</label>
          <select name="type" class="select">
            <option value="1" {{#equals data.type '1'}}selected{{/equals}}>住宅</option>
            <option value="2" {{#equals data.type '2'}}selected{{/equals}}>商业</option>
            <option value="3" {{#equals data.type '3'}}selected{{/equals}}>旅游</option>
            <option value="4" {{#equals data.type '4'}}selected{{/equals}}>综合体</option>
          </select>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>项目规模:</label>
          <input type="number" class="input-medium" name="scale" placeholder="请输入项目规模(单位：㎡,格式：整数)" value="{{data.scale}}" pattern="^[1-9]*[1-9][0-9]*$" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>施工内容:</label>
          <input type="text" class="input-medium" name="content" placeholder="请输入施工内容" value="{{data.content}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>进场时间:</label>
          <input type="text" class="datepicker input-medium" name="joinAt" placeholder="请输入进场时间" value="{{#if data.timeFlag}}{{data.joinAt}}{{else}}{{formatDate data.joinAt 'day'}}{{/if}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>项目经理:</label>
          <input type="text" class="input-medium" name="manager" placeholder="请输入项目经理" value="{{data.manager}}" required>
        </div>
        <div class="control-group" style="display: block">
          <label>备注:</label>
          <input type="text" class="input-medium" name="remarks" placeholder="请输入备注,最多20个字符" value="{{data.remarks}}" maxlength="20">
        </div>
        <div class="control-group">
          <label><span class="required">*</span>合同首页:</label>
          <div class="btn btn-upload main-image js-upload-img">
            <input type="file" name="file">
            <img src="{{data.indexUrl}}" style="{{#if data.indexUrl}}width: 70px; height: 70px{{/if}}">
            <span>+</span>
            <input type="hidden" name="indexUrl" value="{{data.indexUrl}}">
          </div>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>合同签字页:</label>
          <div class="btn btn-upload main-image js-upload-img">
            <input type="file" name="file">
            <img src="{{data.signUrl}}" style="{{#if data.signUrl}}width: 70px; height: 70px{{/if}}">
            <span>+</span>
            <input type="hidden" name="signUrl" value="{{data.signUrl}}">
          </div>
          <span class="pictrue-remark">支持*.jpg、*.png、*.gif、*.jpeg格式</span>
        </div>
      {{/equals}}
      {{#equals type 'contact'}}
        <div class="control-group">
          <label><span class="required">*</span>姓名:</label>
          <input type="text" class="input-medium" name="name" placeholder="请输入姓名" value="{{data.name}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>职位:</label>
          <input type="text" class="input-medium" name="position" placeholder="请输入职位" value="{{data.position}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>办公电话:</label>
          <input type="text" class="input-medium" name="phone" placeholder="请输入办公电话" value="{{data.phone}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>手机:</label>
          <input type="number" class="input-medium" name="mobile" placeholder="请输入手机" value="{{data.mobile}}" pattern="^1[34578]\d{9}$" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>电子邮箱:</label>
          <input type="email" class="input-medium" name="email" placeholder="请输入电子邮箱" value="{{data.email}}" required>
        </div>
      {{/equals}}
      {{#equals type 'cooperate'}}
        <div class="control-group">
          <label><span class="required">*</span>名称:</label>
          <input type="text" class="input-medium" name="name" placeholder="请输入名称" value="{{data.name}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>品牌:</label>
          <input type="text" class="input-medium" name="brand" placeholder="请输入品牌" value="{{data.brand}}" required>
        </div>
      {{/equals}}
      {{#equals type 'machines'}}
        <div class="control-group">
          <label><span class="required">*</span>设备名称:</label>
          <input type="text" class="input-medium" name="name" placeholder="请输入设备名称" value="{{data.name}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>用途:</label>
          <input type="text" class="input-medium" name="usage" placeholder="请输入用途" value="{{data.usage}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>数量:</label>
          <input type="number" class="input-medium" name="num" placeholder="请输入数量" value="{{data.num}}" pattern="^[1-9]*[1-9][0-9]*$" required>
          <span class="note-error"><i>&times;</i> 请输入正整数格式</span>
        </div>
      {{/equals}}
      {{#equals type 'brand'}}
        <div class="control-group">
          <label><span class="required">*</span>品牌名:</label>
          <input type="text" class="input-medium" name="name" placeholder="请输入品牌名" value="{{data.name}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>logo:</label>
          <div class="btn btn-upload main-image js-upload-img">
            <input type="file" name="file">
            <img src="{{data.logo}}" style="{{#if data.logo}}width: 70px; height: 70px{{/if}}">
            <span>+</span>
            <input type="hidden" name="logo" value="{{data.logo}}">
          </div>
          <span class="pictrue-remark">支持*.jpg、*.png、*.gif、*.jpeg格式</span>
        </div>
      {{/equals}}
      {{#equals type 'manager'}}
        <div class="control-group">
          <label><span class="required">*</span>姓名:</label>
          <input type="text" class="input-medium" name="name" placeholder="请输入姓名" value="{{data.name}}" required>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>工作年限:</label>
          <input type="number" class="input-medium" name="seniority" placeholder="请输入工作年限" value="{{data.seniority}}" pattern="^[1-9]*[1-9][0-9]*$" required>
          <span>单位：年，整数格式</span>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>项目经验:</label>
          <input type="text" class="input-medium" name="experience" placeholder="请输入项目经验" value="{{data.experience}}" required>
        </div>
      {{/equals}}
      {{#equals type 'product'}}
        <input type="hidden" name="id" value="{{#if data.id}}{{data.id}}{{else}}0{{/if}}">
        <div class="control-group">
          <label><span class="required">*</span>产品名称:</label>
          <input type="text" class="input-medium" name="name" placeholder="请输入产品名称" value="{{data.name}}" required>
        </div>
        <div class="control-group inline-group">
          <label>logo:</label>
          {{#each images}}
            <div class="btn btn-upload main-image js-upload-img">
              <input type="file" name="file">
              <img src="{{this}}" style="{{#if this}}width: 70px; height: 70px{{/if}}">
              <span>+</span>
              <input type="hidden" name="images" value="{{this}}">
            </div>
          {{/each}}
          <span class="pictrue-remark">支持*.jpg、*.png、*.gif、*.jpeg格式</span>
        </div>
        <div class="control-group">
          <label><span class="required">*</span>产品描述:</label>
          <input type="text" class="input-medium" name="desc" placeholder="请输入产品描述" value="{{data.desc}}" required>
        </div>
      {{/equals}}
    </div>
    <div class="modal-footer">
      <button class="btn btn-success btn-primary btn-medium" type="submit">确认</button>
      <button class="btn btn-info btn-medium close">取消</button>
    </div>
  </form>
</div>