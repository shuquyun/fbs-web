<div class="modal">
  <div class="modal-header">
    <h2>{{i18n "Invoice Info" bundle="user"}}</h2>
  </div>
  <form class="form form-aligned invoice-form" id="invoice-form" data-id="{{data.id}}">
    <fieldset>
      <div class="invoice-edit-form modal-dialog" data-address="{{json this}}">
        <button class="btn btn-info btn-medium side-button js-choose-invoicetype {{#equals data.detail.type 1}}active{{/equals}}{{#unless data.detail.type}}active{{/unless}}" type="button" data-type="1">普通发票</button>
        <button class="btn btn-info btn-medium side-button js-choose-invoicetype {{#equals data.detail.type 2}}active{{/equals}}" type="button" data-type="2">增值税发票</button>
        <div class="invoice-common {{#equals data.detail.type 2}}hide{{/equals}}">
          <span>{{i18n "Invoice title" bundle="user"}}：</span>
          <span class="type1box">
            <label>
              <input type="radio" value="personal" class="js-radio-invoice-title-type" name="invoice-title-type" {{#equals data.detail.titleType 1}}checked{{/equals}}{{#unless data.detail.titleType}}checked{{/unless}}>
              &nbsp;
              个人
            </label>
            <br>
            <label class="control-group sp">
              <input type="radio" value="company" class="js-radio-invoice-title-type" name="invoice-title-type" {{#equals data.detail.titleType 2}}checked{{/equals}}>
              &nbsp;
              公司
              &nbsp;&nbsp;
              <input type="text" name="invoice-title" class="invoice-title-input" placeholder="请填写公司抬头" maxLength="30">
              <span class="note-error note-icon hint--top" aria-label="请填写公司抬头">
                <i class="icon-pokeball icon-pokeball-error "></i>
              </span>
            </label>
          </span>
        </div>
        <div class="invoice-vat {{#equals data.detail.type 1}}hide{{/equals}}{{#unless data.detail.type}}hide{{/unless}}">
          <div class="control-group">
            <label class="control-label"><span class="required">*</span>公司名称：</label>
            <input type="text" name="companyName" class="input-medium" value="{{data.detail.companyName}}" placeholder="请填写公司抬头" maxLength="30">
            <span class="note-error note-icon hint--top" aria-label="请填写公司抬头">
              <i class="icon-pokeball icon-pokeball-error "></i>
            </span>
          </div>
          <div class="control-group">
            <label class="control-label"><span class="required">*</span>税务登记号：</label>
            <input type="text" name="taxRegisterNo" class="input-medium" value="{{data.detail.taxRegisterNo}}" pattern="^[0-9a-zA-Z]{15}$|^[0-9a-zA-Z]{18}$|^[0-9a-zA-Z]{20}$" placeholder="请输入税务登记号">
            <span class="note-error note-icon hint--top" aria-label="税务登记号为15位、18位或20位字母数字组合">
              <i class="icon-pokeball icon-pokeball-error "></i>
            </span>
          </div>
          <div class="control-group">
            <label class="control-label"><span class="required">*</span>注册地址：</label>
            <input type="text" name="registerAddress" class="input-medium" value="{{data.detail.registerAddress}}" placeholder="请填写注册地址" maxLength="50">
            <span class="note-error note-icon hint--top" aria-label="请填写注册地址">
              <i class="icon-pokeball icon-pokeball-error "></i>
            </span>
          </div>
          <div class="control-group">
            <label class="control-label"><span class="required">*</span>注册电话：</label>
            <input type="text" name="registerPhone" class="input-medium" value="{{data.detail.registerPhone}}" placeholder="请填写注册电话" pattern="^((\d{3,4}-)?\d{6,8})$|^(1[3|4|5|7|8]\d{9})$">
            <span class="note-error note-icon hint--top" aria-label="请填写注册电话">
              <i class="icon-pokeball icon-pokeball-error "></i>
            </span>
          </div>
          <div class="control-group">
            <label class="control-label"><span class="required">*</span>开户银行：</label>
            <input type="text" name="registerBank" class="input-medium" value="{{data.detail.registerBank}}" placeholder="请填写开户行" maxLength="30">
            <span class="note-error note-icon hint--top" aria-label="请填写开户行">
              <i class="icon-pokeball icon-pokeball-error "></i>
            </span>
          </div>
          <div class="control-group">
            <label class="control-label"><span class="required">*</span>银行账号：</label>
            <input type="text" name="bankAccount" class="input-medium" value="{{data.detail.bankAccount}}" placeholder="请填写银行账号" pattern="^\d{1,20}$">
            <span class="note-error note-icon hint--top" aria-label="请填写银行账号">
              <i class="icon-pokeball icon-pokeball-error "></i>
            </span>
          </div>
          <div class="control-group">
            <label class="control-label"><span class="required">*</span>相关证件：</label>
            <div class="image-area group-content">
              <p class="desc">
                上传后才能开具增值税发票，<br>
                <span>上传文件均需加盖公章，支持的图片格式为jpg/png/bmp，单个图片小于1M</span>
              </p>
              <div class="main-image {{#unless data.detail.taxCertificate}}empty{{/unless}} image-container js-main-image js-item-image" id="js-item-main-image">
                {{#if data.detail.taxCertificate}}<img src="{{data.detail.taxCertificate}}" alt=""> {{else}} <span class="no-image"></span>{{/if}}
{{!--                 {{#if data.detail.taxCertificate}}

                {{else}}
                  <span class="image-tip-add">+</span>
                {{/if}} --}}
                <div class="btn btn-upload">
                  <input type="file" name="file">
                  <span><i class="icon-pokeball icon-pokeball-upload"></i>上传</span>
                </div>
                <input type="hidden" name="taxCertificate" class="enter-input" value="{{data.detail.taxCertificate}}">
                <span class="text">税务登记证</span>
              </div>
              <div class="main-image {{#unless data.detail.taxpayerCertificate}}empty{{/unless}} image-container js-main-image js-item-image" id="js-item-main-image">
                {{#if data.detail.taxpayerCertificate}}<img src="{{data.detail.taxpayerCertificate}}" alt=""> {{else}} <span class="no-image"></span>{{/if}}
                <div class="btn btn-upload">
                  <input type="file" name="file">
                  <span><i class="icon-pokeball icon-pokeball-upload"></i>上传</span>
                </div>
                <input type="hidden" name="taxpayerCertificate" class="enter-input" value="{{data.detail.taxpayerCertificate}}">
                <span class="text">一般纳税证书</span>
              </div>
            </div>
          </div>
        </div>
        <label class="default-label" for="invoice-isdetault">
          <input type="checkbox" id="invoice-isdetault" class="input-checkbox" name="isDetault">设为默认发票
        </label>
      </div>
      <div class="modal-footer">
        <button class="btn btn-success btn-primary btn-medium" type="submit">{{i18n "Confirm" bundle="user"}}</button>
        <button class="btn btn-info btn-medium close">{{i18n "Cancel" bundle="user"}}</button>
      </div>
    </fieldset>
  </form>

</div>
